++ Идея Шарп Интерпретатор В Операторе

Надо придумать, как описывать работу для Оператора на C#-интерпретаторе.
Это чтобы прямо в чате создавать алгоритм на Шарпе.
Который потом сохранять как скрипт. Который потом Оператор сможет повторно использовать в такой же ситуации.
Но тут есть проблемы:
 * чат предполагает ввод до Ентер. Значит, для набора пользователем скрипта нужен специальный режим чата. Многострочный. И потом набранный текст нужно оформить как скрипт - придумать название и связать с командой.
    * Хорошая мысль - каждый скрипт должен содержать одну процедуру-функцию и быть представлен как команда.
    * А как тогда представлять служебные функции - вроде сортировки файлов по размеру? Создавать для них команду Сортировать  %Список файлов по %Размер Файла ? Так получится очень много редко используемых команд. Они образуют целый АПИ для более сложных алгоритмов. Хотя, это пригодится, если я целиком переведу алгоритмы  на естественный язык.
* Забыл вторую проблему, пока писал и обдумывал первую. 
* Отладка скрипта. Это общая проблема для системы с наблюдением тоже. При отладке пользователю нужны тестовые данные. Он не может себе позволить запускать алгоритм на основных данных. В то же время, Оператор не все алгоритмы позволяет безопасно тестировать. В итоге при создании алгоритма образуется куча мусора, поэтому лучше это создание алгоритма проводить где-то отдельно. А Оператору давать уже проверенные алгоритмы.
    * Для отладки алгоритма нужно просматривать состояние переменных и объектов, пошаговое исполнение итд. Всего этого в чате нет, и добавлять это туда - отдельная проблема.
    * Можно писать простые скрипты подобные cmd-файлам, только на Шарпе. Такие алгоритмы даже без отладки можно контролировать более-менее уверенно. 
    * Сложные же алгоритмы лучше упаковывать в функции АПИ для скриптового языка. Так и повторное их использование будет выше, и основные алгоритмы скриптов будут проще, и отладку функции можно проводить отдельно от основной среды Оператора, в ИДЕ разработчика. Где возможностей что-нибудь испортить меньше.  
* Эта идея вообще - заменить Шарп на собственный АПИ надстройку над Шарпом. Придется помнить и Шарп и новый этот АПИ и еще свойства Команд и Мест учитывать. Ведь разработка всех этих функциональностей тоже лежит на мне. Когда тут собственно пользоваться Оператором? Вещь в себе получается.
* todo: В Винде есть doskey команда консоли - там тоже можно задавать макросы. Надо осмотреть документацию по ней. Извлечь из нее полезное.
