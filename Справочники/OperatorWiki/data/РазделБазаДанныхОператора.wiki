++ Раздел База Данных Оператора
[template: ШаблонСтраницыРазделаКонцепции]
Состояние: [//СБОР МАТЕРИАЛОВ] - нужно больше материалов.

+++Ссылки раздела
* ГлоссарийОператор

Оператор может хранить настройки в файле БД, если БД файловая - вроде Аксцесс или sqlite.

Оператор должен будет хранить много данных о Сущностях, таких как [Место] и [Команда].
Этих сущностей ожидается много, и по ним нужен будет поиск, в том числе, по паттерну.
Используем БД Аксцесс пока, а вообще надо sqlite. 
* Аксцесс удобен при прототипировании.
* Но в нем нельзя сложные регулярные выражения поиска задать. 
    * Я не знаю пока, является ли это серьезным недостатком.
* Аксцесс это небольшая по объему БД. Для большой лучше использовать серверные БД типа MySql.
    * Я не знаю пока, какой объем БД получится и насколько востребована при этом ее производительность. 
* Аксцесс не годится - в нем ОС может хозяйничать и вирусы водиться.
    * Для прототипа сойдет пока - пока главное - быстрота создания Оператор.   

В БД Оператор должны располагаться все таблицы.
* ТаблицаПроцедурБд - содержит собственно связки [Команда] - [Процедура].
* ТаблицаМестБд - содержит данные о [Место] для Оператор.    
* ТаблицаКаналовСобытийБд - question: Для чего нужна и что содержит?
    * Одна на все каналы или на каждый канал своя таблица?

Для каждой [Команда]ы, [Процедура]ы, [Место]а итд, что хранятся в таблицах БД, нужен свой уникальный идентификатор.
Можно сделать такой идентификатор общим пространством для всех сущностей.


+++Таблица Мест - наброски
Содержит данные о [Место] для Оператор.
* todo: взять ее из предыдущего прототипа РИ из БД и из кода - но как набросок только. Эти поля еще надо осмотреть и перепроектировать их использование.

Таблица мест БД places: 
* первичный ключ таблицы
* уникальное название [Место]а - строка
* ТипМеста - как класс сущности - аргумента для семантической проверки. - строка
* описание - текстовое описание для разработчика, в работе не участвует. - строка
* Веб-путь к сущности [Место]а - строка
* Словоформы - для поддержки множественных названий одной сущности. - строка.

Словоформы нужны для падежных форм названия места. Например, мои документы, моих документов, моих документах.
Словоформ много и их надо записывать через запятую и потом распарсить.
 
+++Таблица процедур - набросок
В БД может (и наверняка будет) храниться много вариантов [Команда] для каждой операции.
Тут собственно хранится [Команда] с привязанной процедурой и трансформацией команды в аргументы процедуры.
* Для одной [Процедура] можно привязать несколько разных [Команда]. Это реализует гибкость исполнения в Оператор.

Таблица [Процедура] БД routines:
* первичный ключ таблицы - ничего не несет
* название [Процедура]ы - для пользователя как разработчика [Процедура]
* вес - порядковый номер проверки в очереди проверок для [Команда]ы - для поддержки *очередность проверки выражений*
* регулярное выражение - для проверки соответствия *[Команда]ы* и [Процедура]ы. 
* название запускаемой [Процедура]ы - для запуска [Процедура]ы, в формате методов для Тапп1.
* исходное выражение  - для разработчика - для визуального примера или тестирования. В исполнении [Команда] не участвует.
* Описание - текстовое описание для разработчика. Оно может быть довольно большим по объему. В исполнении [Команда] не участвует.


+++Таблица Канала событий - набросок 
* ID [Команда]ы
* Приоритет [Команда]ы в канале (это порядковое место [Команда]ы в цепочке обработки [Команда] данного канала события). 
* условие срабатывания (todo: Эксперимент. Надо обдумать. Это как в ASM для ARM: [Команда]а не исполняется (пропускается), если флаг не установлен. Это для образования подобия [Алгоритм]а в канале событий. Еще нужны [Команда]ы-переходы на метки-позиции в очереди, и переменные для хранения значений. Тогда будет почти совсем как [Алгоритм].)

Еще предлагалось хранить эти данные в файлах скриптов каналов событий, так как возможно потребуется выборочное исполнение некоторых команд в канале. Из-за недостатка информации я пока не решил, что таблица лучше, чем файл.
* todo: выбрать, таблица или файл.

++Материалы


